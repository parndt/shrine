"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4195],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>k});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),c=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):p(p({},a),e)),t},m=function(e){var a=c(e.components);return n.createElement(l.Provider,{value:a},e.children)},i="mdxType",F={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),i=c(t),d=r,k=i["".concat(l,".").concat(d)]||i[d]||F[d]||s;return t?n.createElement(k,p(p({ref:a},m),{},{components:t})):n.createElement(k,p({ref:a},m))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,p=new Array(s);p[0]=d;var o={};for(var l in a)hasOwnProperty.call(a,l)&&(o[l]=a[l]);o.originalType=e,o[i]="string"==typeof e?e:r,p[1]=o;for(var c=2;c<s;c++)p[c]=t[c];return n.createElement.apply(null,p)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2382:(e,a,t)=>{t.r(a),t.d(a,{default:()=>F});var n=t(7294),r=t(7452);const s=function(){return n.createElement("div",{style:{paddingTop:"2rem",paddingBottom:"3rem"}},n.createElement("div",{className:"container",style:{maxWidth:"900px",marginLeft:"auto",marginRight:"auto"}},n.createElement("h2",{style:{marginBottom:"2rem"}},"Sponsors ",n.createElement("img",{src:"https://github.githubassets.com/images/icons/emoji/unicode/1f496.png",height:"20",className:"heartEmoji"})),n.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))",gap:"3rem"}},[{name:"Ventrata",avatar:"https://avatars0.githubusercontent.com/u/23163375?s=460&v=4",link:"https://ventrata.com/"},{name:"Scout APM",avatar:"https://avatars2.githubusercontent.com/u/458509?s=460&v=4",link:"https://scoutapm.com/"},{name:"Fingerprint",avatar:"https://avatars1.githubusercontent.com/u/827952?s=460&v=4",link:"https://github.com/fingerprint"},{name:"Mislav Marohni\u0107",avatar:"https://avatars1.githubusercontent.com/u/887?s=460&v=4",link:"https://github.com/mislav"},{name:"Stanko Krtali\u0107",avatar:"https://avatars1.githubusercontent.com/u/1655218?s=400&v=4",link:"https://github.com/monorkin"},{name:"Maxence",avatar:"https://avatars2.githubusercontent.com/u/6090320?s=460&v=4",link:"https://github.com/maxence33"},{name:"Bryan O'Neal",avatar:"https://avatars2.githubusercontent.com/u/13574856?s=460&u=796bc2484b66416c7a6c5c361f66a17e263abc60&v=4",link:"https://github.com/1AL"},{name:"Benjamin Klotz",avatar:"https://avatars3.githubusercontent.com/u/675705?s=460&u=e561fcc1ba934317e6bd8742789211bf4d7cae73&v=4",link:"https://github.com/tak1n"},{name:"Igor S. Morozov",avatar:"https://avatars3.githubusercontent.com/u/887264?s=460&u=2b573c7479a75cb46b23d3613f0302ae85b3aef3&v=4",link:"https://github.com/Morozzzko"},{name:"Wout",avatar:"https://avatars1.githubusercontent.com/u/107324?s=460&u=5ab2e18bf785c061df13c53067cd671e2b74e10a&v=4",link:"https://github.com/wout"}].map((function(e){return n.createElement("a",{className:"link",href:e.link,key:e.link,target:"_blank"},n.createElement("div",{className:"avatar avatar--vertical"},n.createElement("img",{className:"avatar__photo avatar__photo--xl",src:e.avatar,alt:e.name+" avatar",title:e.name,style:{height:"auto"}}),n.createElement("div",{className:"avatar__intro",style:{marginTop:"1rem"}},n.createElement("div",{className:"avatar__name",style:{color:"var(--ifm-color-primary-lighter)"}},e.name))))})))))};var p=t(7462),o=t(3366),l=t(3905),c=["components"],m={toc:[]};function i(e){var a=e.components,t=(0,o.Z)(e,c);return(0,l.kt)("wrapper",(0,p.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"You can attach files..."),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"class"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1"}},"Photo"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"<"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Sequel::Model")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"include"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Shrine"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"::"),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"Attachment"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"("),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},":image"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},")")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"end"))))),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"="),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Photo"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},".create(image"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},":"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," file)")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image          "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},"#=> #<Shrine::UploadedFile>")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image_url      "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#=> "https://my-bucket.s3.amazonaws.com/6bfafe89748ee135.jpg"')),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image.id       "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#=> "6bfafe89748ee135.jpg"')),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image.storage  "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},"#=> #<Shrine::Storage::S3>")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image.metadata "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#=> { "size" => 749238, "mime_type" => "image/jpeg", "filename" => "nature.jpg" }'))))),(0,l.kt)("p",null,"...and process them eagerly..."),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Shrine"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"::"),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Attacher"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},".derivatives "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},":thumbnails"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"do"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," |original|")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  magick "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"="),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"ImageProcessing"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"::"),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"MiniMagick"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},".source(original)")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  { large"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},":"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  magick.resize_to_limit!("),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"800"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},", "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"800"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"),")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"    medium"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},":"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," magick.resize_to_limit!("),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"500"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},", "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"500"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"),")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"    small"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},":"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  magick.resize_to_limit!("),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"300"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},", "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"300"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},") }")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"end"))))),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image_derivatives "),(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},"#=>")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'# { large:  #<Shrine::UploadedFile id="4ed847866c71a5bf.jpg" ...>,')),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#   medium: #<Shrine::UploadedFile id="7bc41b1c24afe81d.jpg" ...>,')),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#   small:  #<Shrine::UploadedFile id="cccdd4052261633b.jpg" ...> }'))))),(0,l.kt)("p",null,"...or on-the-fly..."),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"Shrine"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},".derivation "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},":thumbnail"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"do"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," |file, width, height|")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  magick "),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"="),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}}," "),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"ImageProcessing"),(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"::"),(0,l.kt)("span",{parentName:"span",style:{color:"#97E1F1",fontStyle:"italic"}},"MiniMagick"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},".source(original)")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"  magick.resize_to_limit!(width.to_i, height.to_i)")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F286C4"}},"end"))))),(0,l.kt)("div",{"data-rehype-pretty-code-fragment":""},(0,l.kt)("pre",{parentName:"div","data-language":"rb","data-theme":"default"},(0,l.kt)("code",{parentName:"pre","data-language":"rb","data-theme":"default"},(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},"photo.image.derivation_url("),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},":thumbnail"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},", "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"600"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},", "),(0,l.kt)("span",{parentName:"span",style:{color:"#BF9EEE"}},"400"),(0,l.kt)("span",{parentName:"span",style:{color:"#F6F6F4"}},")")),"\n",(0,l.kt)("span",{parentName:"code",className:"line"},(0,l.kt)("span",{parentName:"span",style:{color:"#7B7F8B"}},'#=> ".../thumbnail/600/400/eyJpZCI6ImZvbyIsInN0b3JhZ2UiOiJzdG9yZSJ9?signature=..."'))))))}i.isMDXComponent=!0;const F=function(){return n.createElement(r.Z,{title:"Home"},n.createElement("div",{className:"hero",style:{textAlign:"center",color:"var(--ifm-color-danger)"}},n.createElement("div",{className:"container"},n.createElement("img",{src:"img/logo.png",height:"100",style:{marginBottom:"2rem"}}),n.createElement("h1",{className:"hero__title "},"Shrine"),n.createElement("p",{className:"hero__subtitle"},"File attachment toolkit for Ruby applications"),n.createElement("div",null,n.createElement("a",{href:"/docs/getting-started",className:"button button--danger button--outline button--lg margin-right--sm"},"Get Started"),n.createElement("a",{href:"/docs/advantages",className:"button button--danger button--outline button--lg"},"Advantages")))),n.createElement("div",{style:{backgroundColor:"#f7f7f7",paddingTop:"2rem",paddingBottom:"2rem"}},n.createElement("div",{className:"container",style:{maxWidth:"900px",marginLeft:"auto",marginRight:"auto"}},n.createElement(i,null))),n.createElement(s,null))}}}]);