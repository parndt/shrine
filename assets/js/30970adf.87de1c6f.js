"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2384],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(f,a(a({ref:t},p),{},{components:n})):r.createElement(f,a({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2543:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>f,frontMatter:()=>s,metadata:()=>c,toc:()=>u});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],s={title:"Shrine 1.4.2"},l="Regressions",c={unversionedId:"release_notes/1.4.2",id:"release_notes/1.4.2",title:"Shrine 1.4.2",description:"* Version 1.4.1 introduced handling optimistic locking in ActiveRecord plugin,",source:"@site/../doc/release_notes/1.4.2.md",sourceDirName:"release_notes",slug:"/release_notes/1.4.2",permalink:"/docs/release_notes/1.4.2",draft:!1,editUrl:"https://github.com/shrinerb/shrine/edit/master/doc/../doc/release_notes/1.4.2.md",tags:[],version:"current",lastUpdatedBy:"Janko Marohni\u0107",lastUpdatedAt:1571049580,formattedLastUpdatedAt:"Oct 14, 2019",frontMatter:{title:"Shrine 1.4.2"},sidebar:"release_notes",previous:{title:"Shrine 2.0.0",permalink:"/docs/release_notes/2.0.0"},next:{title:"Shrine 1.4.1",permalink:"/docs/release_notes/1.4.1"}},p={},u=[],d={toc:u},m="wrapper";function f(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)(m,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"regressions"},"Regressions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Version 1.4.1 introduced handling optimistic locking in ActiveRecord plugin,\nhowever the implementation wasn't stable and wouldn't work correctly in\nsome cases, so we revert the behaviour as it was in version 1.4.0. Developers\ncan still handle optimistic locking themselves inside background jobs.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Version 1.4.1 introduced an instance filter of cached attachment in Sequel\nplugin, which makes the same record instance unupdateable after promoting,\neven when not using backgrounding, so we revert the behaviour as it was in\nversion 1.4.0. This is only a problem if you're doing something with the\nrecord instance after updating attachment."))),(0,i.kt)("h1",{id:"improvements"},"Improvements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The Sequel plugin now doesn't rescue every ",(0,i.kt)("inlineCode",{parentName:"li"},"Sequel::Error"),' on promoting, it\njust rescues "Record not found" ones (in Sequel 4.28+ this is a\n',(0,i.kt)("inlineCode",{parentName:"li"},"Sequel::NoExistingObject"),", but prior to that was a generic ",(0,i.kt)("inlineCode",{parentName:"li"},"Sequel::Error"),").")))}f.isMDXComponent=!0}}]);