<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-creating-storages">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Writing a Storage | Shrine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://shrinerb.com/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://shrinerb.com/img/logo.png"><meta data-rh="true" property="og:url" content="https://shrinerb.com/docs/creating-storages"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Writing a Storage | Shrine"><meta data-rh="true" name="description" content="Shrine ships with the FileSystem and S3 storages, but it&#x27;s also easy to create"><meta data-rh="true" property="og:description" content="Shrine ships with the FileSystem and S3 storages, but it&#x27;s also easy to create"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://shrinerb.com/docs/creating-storages"><link data-rh="true" rel="alternate" href="https://shrinerb.com/docs/creating-storages" hreflang="en"><link data-rh="true" rel="alternate" href="https://shrinerb.com/docs/creating-storages" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KBFWBJ5DPX-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Shrine" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.efb93a3c.css">
<link rel="preload" href="/assets/js/runtime~main.3b0f70eb.js" as="script">
<link rel="preload" href="/assets/js/main.c75c1b94.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Shrine logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Shrine logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Shrine</b></a><a class="navbar__item navbar__link" href="/docs/getting-started">Guides</a><a class="navbar__item navbar__link" href="/docs/plugins/activerecord">Plugins</a><a class="navbar__item navbar__link" href="/docs/external/extensions">External</a><a class="navbar__item navbar__link" href="/docs/release_notes/3.5.0">Release Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shrinerb/shrine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/shrinerb/shrine/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/shrinerb/shrine/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/advantages">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advantages">Advantages of Shrine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Getting Started</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/design">Base</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design">The Design of Shrine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/retrieving-uploads">Retrieving Uploads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/attacher">Using Attacher</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/storage/file-system">Storage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/storage/file-system">File System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/storage/s3">AWS S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/storage/memory">Memory</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/direct-s3">Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/direct-s3">Direct Uploads to S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/metadata">Extracting Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing">File Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/validation">File Validation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/multiple-files">Extras</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/multiple-files">Multiple Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-uploads">Securing Uploads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testing">Testing with Shrine</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/changing-derivatives">Migrating</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/changing-derivatives">Managing Derivatives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/changing-location">Migrating File Locations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/changing-storage">Migrating File Storage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/creating-plugins">Extending</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/creating-plugins">Writing a Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/creating-persistence-plugins">Writing a Persistence Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/creating-storages">Writing a Storage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/upgrading-to-3">Upgrading</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/upgrading-to-3">Upgrading to Shrine 3.x</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/carrierwave">Upgrading from CarrierWave</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paperclip">Upgrading from Paperclip</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/refile">Upgrading from Refile</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Writing a Storage</h1></header><p>Shrine ships with the FileSystem and S3 storages, but it&#x27;s also easy to create
your own. A storage is a class which needs to implement <code>#upload</code>, <code>#url</code>,
<code>#open</code>, <code>#exists?</code>, and <code>#delete</code> methods.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">Shrine</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">module</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1;font-style:italic">Storage</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">upload</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">io</span><span style="color:#F6F6F4">, </span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#BF9EEE">shrine_metadata</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> {}, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">upload_options)</span></span>
<span class="line"><span style="color:#F6F6F4">        </span><span style="color:#7B7F8B"># uploads `io` to the location `id`, can accept upload options</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">open</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">        </span><span style="color:#7B7F8B"># returns the remote file as an IO-like object</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">url</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">        </span><span style="color:#7B7F8B"># returns URL to the remote file, can accept URL options</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">exists?</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">)</span></span>
<span class="line"><span style="color:#F6F6F4">        </span><span style="color:#7B7F8B"># returns whether the file exists on storage</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">delete</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">)</span></span>
<span class="line"><span style="color:#F6F6F4">        </span><span style="color:#7B7F8B"># deletes the file from the storage</span></span>
<span class="line"><span style="color:#F6F6F4">      </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upload">Upload<a href="#upload" class="hash-link" aria-label="Direct link to Upload" title="Direct link to Upload">​</a></h2><p>The <code>#upload</code> storage method is called by <code>Shrine#upload</code>, it accepts an IO
object (<code>io</code>) and upload location (<code>id</code>) and is expected to upload the IO
content to the specified location. It&#x27;s also given <code>:shrine_metadata</code> that was
extracted from the IO, which can be used for specifying request headers on
upload. The storage can also support custom upload options (which can be
utilized with the <code>upload_options</code> plugin).</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">upload</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">io</span><span style="color:#F6F6F4">, </span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#BF9EEE">shrine_metadata</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> {}, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">upload_options)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># uploads `io` to the location `id`, can accept upload options</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>Unless you&#x27;re already using a Ruby SDK, it&#x27;s recommended to use <a href="https://github.com/httprb/http" target="_blank" rel="noopener noreferrer">HTTP.rb</a> for
uploading. It accepts any IO object that implements <code>IO#read</code> (not just file
objects), and it streams the request body directly to the TCP socket, both for
raw and multipart uploads, making it suitable for large uploads.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">require</span><span style="color:#F6F6F4"> </span><span style="color:#DEE492">&quot;</span><span style="color:#E7EE98">http</span><span style="color:#DEE492">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B"># streaming raw upload</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic">HTTP</span><span style="color:#F6F6F4">.post(</span><span style="color:#DEE492">&quot;</span><span style="color:#E7EE98">http://example.com/upload</span><span style="color:#DEE492">&quot;</span><span style="color:#F6F6F4">, body</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> io)</span></span>
<span class="line"><span style="color:#7B7F8B"># streaming multipart upload</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic">HTTP</span><span style="color:#F6F6F4">.post(</span><span style="color:#DEE492">&quot;</span><span style="color:#E7EE98">http://example.com/upload</span><span style="color:#DEE492">&quot;</span><span style="color:#F6F6F4">, form</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> { file</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1;font-style:italic">HTTP</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">FormData</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">File</span><span style="color:#F6F6F4">.</span><span style="color:#F286C4">new</span><span style="color:#F6F6F4">(io) })</span></span></code></pre></div><p>It&#x27;s good practice to test the storage with a <a href="https://github.com/shrinerb/shrine/blob/master/test/support/fakeio.rb" target="_blank" rel="noopener noreferrer">fake IO</a> object which responds
only to required methods, as not all received IO objects will be file objects.</p><p>If your storage doesn&#x27;t control which id the uploaded file will have, you
can modify the <code>id</code> variable before returning:</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">upload</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">io</span><span style="color:#F6F6F4">, </span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#BF9EEE">shrine_metadata</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> {}, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">upload_options)</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  id.replace(actual_id)</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>Likewise, if you need to save some information into the metadata after upload
(e.g. if the MIME type of the file changes on upload), you can modify the
metadata hash:</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">upload</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">io</span><span style="color:#F6F6F4">, </span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#BF9EEE">shrine_metadata</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> {}, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">upload_options)</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  shrine_metadata.merge!(returned_metadata)</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="open">Open<a href="#open" class="hash-link" aria-label="Direct link to Open" title="Direct link to Open">​</a></h2><p>The <code>#open</code> storage method is called by various <code>Shrine::UploadedFile</code> methods
that retrieve uploaded file content. It accepts the file location and is
expected to return an IO-like object (that implements <code>#read</code>, <code>#size</code>,
<code>#rewind</code>, <code>#eof?</code>, and <code>#close</code>) that represents the uploaded file.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">open</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># returns the remote file as an IO-like object</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>Ideally, the returned IO object should lazily retrieve uploaded content, so
that in cases where metadata needs to be extracted from an uploaded file, only
a small portion of the file will be downloaded.</p><p>It&#x27;s recommended to use the <a href="https://github.com/janko/down" target="_blank" rel="noopener noreferrer">Down</a> gem for this. If the storage exposes its
files over HTTP, you can use <code>Down.open</code>, otherwise if it&#x27;s possible to stream
chunks of content from the storage, that can be wrapped in a <code>Down::ChunkedIO</code>.
It&#x27;s recommended to use the <a href="https://github.com/janko/down#httprb" target="_blank" rel="noopener noreferrer"><code>Down::Http</code></a> backend, as the <a href="https://github.com/httprb/http" target="_blank" rel="noopener noreferrer">HTTP.rb</a> gem
allocates an order of magnitude less memory when reading the response body
compared to <code>Net::HTTP</code>.</p><p>The storage can support additional options to customize how the file will be
opened, <code>Shrine::UploadedFile#open</code> and <code>Shrine::UploadedFile#download</code> will
forward any given options to <code>#open</code>.</p><p>When file is not found, <code>Shrine::FileNotFound</code> exception should be raised.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="url">Url<a href="#url" class="hash-link" aria-label="Direct link to Url" title="Direct link to Url">​</a></h2><p>The <code>#url</code> storage method is called by <code>Shrine::UploadedFile#url</code>, it accepts a
file location and is expected to return a resolvable URL to the uploaded file.
Custom URL options can be supported if needed, <code>Shrine::UploadedFile#url</code> will
forward any given options to <code>#url</code>.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">url</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># returns URL to the remote file, can accept URL options</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>If the storage does not have uploaded files accessible via HTTP, the <code>#url</code>
method should return <code>nil</code>. Note that in this case users can use the
<code>download_endpoint</code> or <code>rack_response</code> plugins to create a downloadable link,
which are implemented in terms of <code>#open</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exists">Exists<a href="#exists" class="hash-link" aria-label="Direct link to Exists" title="Direct link to Exists">​</a></h2><p>The <code>#exists?</code> storage method is called by <code>Shrine::UploadedFile#exists?</code>, it
accepts a file location and should return <code>true</code> if the file exists on the
storage and <code>false</code> otherwise.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">exists?</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># returns whether the file exists on storage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delete">Delete<a href="#delete" class="hash-link" aria-label="Direct link to Delete" title="Direct link to Delete">​</a></h2><p>The <code>#delete</code> storage method is called by <code>Shrine::UploadedFile#delete</code>, it
accepts a file location and is expected to delete the file from the storage.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">delete</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># deletes the file from the storage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>For convenience of use, this method should not raise an exception if the file
doesn&#x27;t exist.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="presign">Presign<a href="#presign" class="hash-link" aria-label="Direct link to Presign" title="Direct link to Presign">​</a></h2><p>If the storage service supports direct uploads, and requires fetching
additional information from the server, you can implement a <code>#presign</code> method,
which will be called by the <code>presign_endpoint</code> plugin. The <code>#presign</code> method
should return a Hash with the following keys:</p><ul><li><code>:method</code> – HTTP verb that should be used</li><li><code>:url</code> – URL to which the file should be uploaded to</li><li><code>:fields</code> – Hash of request parameters that should be used for the upload (optional)</li><li><code>:headers</code> – Hash of request headers that should be used for the upload (optional)</li></ul><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">presign</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># returns a Hash with :method, :url, :fields, and :headers keys</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><p>The storage can support additional options to customize how the presign will be
generated, those can be forwarded via the <code>:presign_options</code> option on the
<code>presign_endpoint</code> plugin.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delete-prefixed-and-clear">Delete Prefixed and Clear<a href="#delete-prefixed-and-clear" class="hash-link" aria-label="Direct link to Delete Prefixed and Clear" title="Direct link to Delete Prefixed and Clear">​</a></h2><p>There are two methods that are not currently used by shrine, but which it&#x27;s good
for storages to provide to allow client code to delete files from storage. If
storages provide these conventional methods, then clients can delete files using
consistent API for any storage.</p><p><code>#clear!</code> deletes all files from storage, and <code>#delete_prefixed</code> will delete all
files in a given directory/prefix/path. While not strictly required for shrine storage
service functionality, storages should usually implement if possible.</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">delete_prefixed</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">prefix_path</span><span style="color:#F6F6F4">)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># deletes all files under the supplied argument prefix</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">clear!</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># deletes all files in the storage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="update">Update<a href="#update" class="hash-link" aria-label="Direct link to Update" title="Direct link to Update">​</a></h2><p>If your storage supports updating data of existing files (e.g. some metadata),
the convention is to create an <code>#update</code> method:</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">class</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1">MyStorage</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">def</span><span style="color:#F6F6F4"> </span><span style="color:#62E884">update</span><span style="color:#F6F6F4">(</span><span style="color:#FFB86C;font-style:italic">id</span><span style="color:#F6F6F4">, </span><span style="color:#F286C4">**</span><span style="color:#F6F6F4">options)</span></span>
<span class="line"><span style="color:#F6F6F4">    </span><span style="color:#7B7F8B"># update data of the file</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#F286C4">end</span></span>
<span class="line"><span style="color:#F6F6F4">  </span><span style="color:#7B7F8B"># ...</span></span>
<span class="line"><span style="color:#F286C4">end</span></span></code></pre></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="linter">Linter<a href="#linter" class="hash-link" aria-label="Direct link to Linter" title="Direct link to Linter">​</a></h2><p>To check that your storage implements all these methods correctly, you can use
<code>Shrine::Storage::Linter</code>:</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F286C4">require</span><span style="color:#F6F6F4"> </span><span style="color:#DEE492">&quot;</span><span style="color:#E7EE98">shrine/storage/linter</span><span style="color:#DEE492">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4">storage </span><span style="color:#F286C4">=</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1;font-style:italic">Shrine</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">Storage</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">MyStorage</span><span style="color:#F6F6F4">.</span><span style="color:#F286C4">new</span><span style="color:#F6F6F4">(</span><span style="color:#F286C4">*</span><span style="color:#F6F6F4">args)</span></span>
<span class="line"><span style="color:#F6F6F4">linter </span><span style="color:#F286C4">=</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1;font-style:italic">Shrine</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">Storage</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">Linter</span><span style="color:#F6F6F4">.</span><span style="color:#F286C4">new</span><span style="color:#F6F6F4">(storage)</span></span>
<span class="line"><span style="color:#F6F6F4">linter.call</span></span></code></pre></div><p>The linter will test your methods with fake IO objects, and raise a
<code>Shrine::LintError</code> if any part of the contract isn&#x27;t satisfied.</p><p>If you want to specify the IO object to use for testing (e.g. you need the IO
to be an actual image), you can pass in a lambda which returns the IO when
called:</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F6F6F4">linter.call(</span><span style="color:#97E1F1">-&gt;</span><span style="color:#F6F6F4">{</span><span style="color:#97E1F1;font-style:italic">File</span><span style="color:#F6F6F4">.</span><span style="color:#97E1F1">open</span><span style="color:#F6F6F4">(</span><span style="color:#DEE492">&quot;</span><span style="color:#E7EE98">test/fixtures/image.jpg</span><span style="color:#DEE492">&quot;</span><span style="color:#F6F6F4">)})</span></span></code></pre></div><p>If you don&#x27;t want errors to be raised but rather only warnings, you can
pass <code>action: :warn</code> when initializing</p><div data-rehype-pretty-code-fragment=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="line"><span style="color:#F6F6F4">linter </span><span style="color:#F286C4">=</span><span style="color:#F6F6F4"> </span><span style="color:#97E1F1;font-style:italic">Shrine</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">Storage</span><span style="color:#F286C4">::</span><span style="color:#97E1F1;font-style:italic">Linter</span><span style="color:#F6F6F4">.</span><span style="color:#F286C4">new</span><span style="color:#F6F6F4">(storage, action</span><span style="color:#F286C4">:</span><span style="color:#F6F6F4"> </span><span style="color:#BF9EEE">:warn</span><span style="color:#F6F6F4">)</span></span></code></pre></div><p>Note that using the linter doesn&#x27;t mean that you shouldn&#x27;t write any manual
tests for your storage. There will likely be some edge cases that won&#x27;t be
tested by the linter.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/shrinerb/shrine/edit/master/doc/../doc/creating_storages.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2019-10-14T10:39:40.000Z">Oct 14, 2019</time></b> by <b>Janko Marohnić</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/creating-persistence-plugins"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Writing a Persistence Plugin</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/upgrading-to-3"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Upgrading to Shrine 3.x</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upload" class="table-of-contents__link toc-highlight">Upload</a></li><li><a href="#open" class="table-of-contents__link toc-highlight">Open</a></li><li><a href="#url" class="table-of-contents__link toc-highlight">Url</a></li><li><a href="#exists" class="table-of-contents__link toc-highlight">Exists</a></li><li><a href="#delete" class="table-of-contents__link toc-highlight">Delete</a></li><li><a href="#presign" class="table-of-contents__link toc-highlight">Presign</a></li><li><a href="#delete-prefixed-and-clear" class="table-of-contents__link toc-highlight">Delete Prefixed and Clear</a></li><li><a href="#update" class="table-of-contents__link toc-highlight">Update</a></li><li><a href="#linter" class="table-of-contents__link toc-highlight">Linter</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Janko Marohnić</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3b0f70eb.js"></script>
<script src="/assets/js/main.c75c1b94.js"></script>
</body>
</html>